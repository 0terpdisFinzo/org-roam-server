<html>
  <head>
    <style type="text/css">
      #container {
          widht: 100%;
          height: 100%;
          margin: auto;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <script src="jquery-3.5.0.min.js"></script>
    <script src="sigma.min.js"></script>
    <script src="sigma.parsers.json.min.js"></script>
    <script>
      $(document).ready(function () {
          sig = {
              container: 'container',
              settings: {
                  defaultNodeColor: '#ec5148'
              }
          }
          const source = new EventSource("/graph-data");
          source.onmessage = function (event) {
              graph = JSON.parse(event.data);
              if (sig instanceof sigma) {
                  sig.graph.clear();
                  sig.graph.read(graph);
              } else if (typeof sig === 'object') {
                  sig.graph = graph;
                  sig = new sigma(sig);
              }
              sig.startForceAtlas2({worker: true, barnesHutOptimize: false});
          }
      });
    </script>
  </body>
</html>
